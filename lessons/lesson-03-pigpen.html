<!doctype html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>B√†i 3: Pigpen Cipher</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/fontello.css">
    <link rel="stylesheet" href="../css/design-system.css">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/lesson-styles.css">
    <link rel="stylesheet" href="../css/animations.css">
</head>
<body class="lesson scheme-pigpen" data-lesson="3" onload="setup( PIGPEN );">
    <nav class="lesson-nav">
        <a href="../index.html">‚Üê V·ªÅ trang ch·ªß</a>
        <div class="lesson-progress-bar">
            <div class="progress-fill"></div>
        </div>
    </nav>

    <header class="lesson-header">
        <h1>B√†i 3: Pigpen Cipher <a target="_blank" href="https://en.wikipedia.org/wiki/Pigpen_cipher"><i class="icon-link-ext"></i></a></h1>
        <p class="lesson-meta">
            <span>‚è±Ô∏è Th·ªùi gian: ~15 ph√∫t</span>
            <span>‚≠ê ƒê·ªô kh√≥: D·ªÖ</span>
            <span>üìö Module 2: M√£ h√≥a C·ªï ƒëi·ªÉn</span>
        </p>
    </header>

    <main class="lesson-content">
        <section class="theory">
            <h2>üìñ L√Ω thuy·∫øt</h2>
            
            <h3>L·ªãch s·ª≠</h3>
            <p>
                <strong>Pigpen Cipher</strong> (c√≤n g·ªçi l√† Masonic Cipher, Freemason's Cipher) l√† m·ªôt 
                ph∆∞∆°ng ph√°p m√£ h√≥a h√¨nh h·ªçc ƒë∆°n gi·∫£n ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi Freemasons trong h∆°n 200 nƒÉm. 
                C√°c bi·∫øn th·ªÉ c·ªßa n√≥ c√≥ th·ªÉ b·∫Øt ngu·ªìn t·ª´ th·∫ø k·ª∑ 11 ho·∫∑c s·ªõm h∆°n.
            </p>

            <h3>C√°ch ho·∫°t ƒë·ªông</h3>
            <p>
                Pigpen Cipher thay th·∫ø m·ªói ch·ªØ c√°i b·∫±ng m·ªôt k√Ω hi·ªáu h√¨nh h·ªçc d·ª±a tr√™n v·ªã tr√≠ c·ªßa ch·ªØ c√°i 
                trong m·ªôt l∆∞·ªõi. H·ªá th·ªëng s·ª≠ d·ª•ng c√°c h√¨nh vu√¥ng, h√¨nh ch·ªØ nh·∫≠t v√† d·∫•u ch·∫•m ƒë·ªÉ t·∫°o ra 
                c√°c k√Ω hi·ªáu duy nh·∫•t cho m·ªói ch·ªØ c√°i.
            </p>

            <div class="example-box">
                <strong>C·∫•u tr√∫c:</strong>
                <ul>
                    <li>Ch·ªØ c√°i A-I: N·∫±m trong c√°c h√¨nh vu√¥ng</li>
                    <li>Ch·ªØ c√°i J-R: N·∫±m trong c√°c h√¨nh ch·ªØ nh·∫≠t</li>
                    <li>Ch·ªØ c√°i S-Z: N·∫±m trong c√°c h√¨nh X</li>
                    <li>D·∫•u ch·∫•m ƒë∆∞·ª£c th√™m v√†o ƒë·ªÉ ph√¢n bi·ªát c√°c nh√≥m</li>
                </ul>
            </div>

            <h3>∆Øu v√† nh∆∞·ª£c ƒëi·ªÉm</h3>
            <table class="security-table">
                <thead>
                    <tr>
                        <th>∆Øu ƒëi·ªÉm</th>
                        <th>Nh∆∞·ª£c ƒëi·ªÉm</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>D·ªÖ h·ªçc v√† s·ª≠ d·ª•ng</td>
                        <td>R·∫•t d·ªÖ b·ªã ph√° b·∫±ng frequency analysis</td>
                    </tr>
                    <tr>
                        <td>Kh√¥ng c·∫ßn kh√≥a</td>
                        <td>Key space r·∫•t nh·ªè (ch·ªâ 1 c√°ch m√£ h√≥a)</td>
                    </tr>
                    <tr>
                        <td>Tr·ª±c quan, d·ªÖ nh·ªõ</td>
                        <td>Kh√¥ng an to√†n cho m·ª•c ƒë√≠ch b·∫£o m·∫≠t</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="interactive-demo">
            <h2>üéÆ Th·ª≠ nghi·ªám</h2>
            
            <div id="inputs">
                <div id="plaintext" class="group">
                    <h3>Plain Text</h3>
                    <input type="text" id="plaintext-text" class="plaintext-text">
                </div>

                <div id="options" class="group">
                    <h3 class="key">Key <span class="sub-heading">(B·∫£ng tra c·ª©u Pigpen)</span></h3>
                    <img src="../images/pigpen.svg" alt="Pigpen cypher symbols">
                </div>

                <div id="cyphertext" class="group">
                    <h3 class="cypher">Cypher Text</h3>
                    <input type="text" id="cyphertext-text" class="cyphertext-text">
                </div>
            </div>

            <section id="encryption">
                <h2>Encryption System</h2>

                <div id="crypt-plaintext" class="group block">
                    <h3>Plain Letter</h3>
                    <div id="plaintext-chars" class="grid"></div>
                </div>

                <div id="crypt-mapping" class="group block">
                    <h3 id="mapping-direction">Encrypts To</h3>
                    <div id="mapping" class="grid"></div>
                </div>

                <div id="crypt-cyphertext" class="group block">
                    <h3 class="cypher">Cypher Symbol</h3>
                    <div id="cyphertext-chars" class="grid"></div>
                </div>
            </section>

            <section id="charts">
                <h2>Frequency Analysis</h2>

                <div id="plaintext-freq" class="group">
                    <h3>Plain Text Letter Frequency</h3>
                    <div id="plaintext-chart" class="chart"></div>
                </div>

                <div id="cyphertext-freq" class="group">
                    <h3 class="cypher">Cypher Text Symbol Frequency</h3>
                    <div id="cyphertext-chart" class="chart"></div>
                </div>
            </section>
        </section>

        <section class="quiz">
            <h2>üìù Ki·ªÉm tra ki·∫øn th·ª©c</h2>
            <div class="quiz-questions"></div>
            <button class="quiz-submit">N·ªôp b√†i</button>
            <div class="quiz-score"></div>
        </section>

        <section class="challenge">
            <h2>üéØ Th·ª≠ th√°ch</h2>
            <p>Ho√†n th√†nh c√°c th·ª≠ th√°ch sau:</p>
            <div class="challenges-list"></div>
        </section>
    </main>

    <footer class="lesson-footer">
        <button class="btn-prev" onclick="window.location.href='lesson-02-fundamentals.html'">‚Üê B√†i tr∆∞·ªõc</button>
        <button class="btn-next" onclick="window.location.href='lesson-04-caesar.html'">B√†i ti·∫øp theo ‚Üí</button>
    </footer>

    <script src="../js/crypt-util.js"></script>
    <script src="../js/crypt-simple.js"></script>
    <script src="../js/lesson-core.js"></script>
    <script>
        LessonCore.currentLesson = 3;
        LessonCore.updateLessonProgressBar();
        QuizSystem.init(3);
        ChallengeSystem.init(3);

        const originalCheck = QuizSystem.checkAnswers.bind(QuizSystem);
        QuizSystem.checkAnswers = function() {
            const score = originalCheck();
            if (score >= 70) {
                LessonCore.markLessonComplete(3, score);
            }
        };
    </script>
</body>
</html>

