<!doctype html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>B√†i 2: C√°c kh√°i ni·ªám c∆° b·∫£n</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/fontello.css">
    <link rel="stylesheet" href="../css/design-system.css">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/lesson-styles.css">
    <link rel="stylesheet" href="../css/animations.css">
</head>
<body class="lesson" data-lesson="2">
    <nav class="lesson-nav">
        <a href="../index.html">‚Üê V·ªÅ trang ch·ªß</a>
        <div class="lesson-progress-bar">
            <div class="progress-fill"></div>
        </div>
    </nav>

    <header class="lesson-header">
        <h1>B√†i 2: C√°c kh√°i ni·ªám c∆° b·∫£n</h1>
        <p class="lesson-meta">
            <span>‚è±Ô∏è Th·ªùi gian: ~20 ph√∫t</span>
            <span>‚≠ê ƒê·ªô kh√≥: D·ªÖ</span>
            <span>üìö Module 1: Gi·ªõi thi·ªáu v√† N·ªÅn t·∫£ng</span>
        </p>
    </header>

    <main class="lesson-content">
        <section class="theory">
            <h2>üìñ L√Ω thuy·∫øt</h2>
            
            <h3>1. Substitution vs Transposition</h3>
            
            <h4>Substitution Cipher (M√£ h√≥a thay th·∫ø)</h4>
            <p>
                Thay th·∫ø t·ª´ng k√Ω t·ª± trong plaintext b·∫±ng m·ªôt k√Ω t·ª± kh√°c theo quy t·∫Øc nh·∫•t ƒë·ªãnh.
            </p>
            <div class="example-box">
                <strong>V√≠ d·ª•:</strong> A ‚Üí D, B ‚Üí E, C ‚Üí F, ...
                <br>Plaintext: "HELLO" ‚Üí Ciphertext: "KHOOR"
            </div>

            <h4>Transposition Cipher (M√£ h√≥a ho√°n v·ªã)</h4>
            <p>
                Gi·ªØ nguy√™n c√°c k√Ω t·ª± nh∆∞ng thay ƒë·ªïi v·ªã tr√≠ c·ªßa ch√∫ng.
            </p>
            <div class="example-box">
                <strong>V√≠ d·ª•:</strong> Vi·∫øt theo c·ªôt, ƒë·ªçc theo h√†ng
                <br>Plaintext: "HELLO WORLD"
                <br>Vi·∫øt: H E L L O<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;W O R L D
                <br>ƒê·ªçc: "HW E O L R L L O D"
            </div>

            <h3>2. Symmetric vs Asymmetric Cryptography</h3>
            
            <h4>Symmetric Key (M√£ h√≥a ƒë·ªëi x·ª©ng)</h4>
            <ul>
                <li>C√πng m·ªôt kh√≥a ƒë·ªÉ m√£ h√≥a v√† gi·∫£i m√£</li>
                <li>Nhanh v√† hi·ªáu qu·∫£</li>
                <li><strong>V·∫•n ƒë·ªÅ:</strong> Ph·∫£i chia s·∫ª kh√≥a b√≠ m·∫≠t tr∆∞·ªõc</li>
                <li><strong>V√≠ d·ª•:</strong> AES, DES, Caesar Cipher</li>
            </ul>

            <h4>Asymmetric Key (M√£ h√≥a b·∫•t ƒë·ªëi x·ª©ng)</h4>
            <ul>
                <li>S·ª≠ d·ª•ng c·∫∑p kh√≥a: Public Key v√† Private Key</li>
                <li>Public Key c√≥ th·ªÉ c√¥ng khai</li>
                <li>Gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ ph√¢n ph·ªëi kh√≥a</li>
                <li><strong>V√≠ d·ª•:</strong> RSA, ECC, Diffie-Hellman</li>
            </ul>

            <h3>3. Key Space (Kh√¥ng gian kh√≥a)</h3>
            <p>
                Key space l√† t·∫≠p h·ª£p t·∫•t c·∫£ c√°c kh√≥a c√≥ th·ªÉ s·ª≠ d·ª•ng trong m·ªôt h·ªá th·ªëng m√£ h√≥a.
            </p>
            <div class="example-box">
                <strong>Caesar Cipher:</strong> Key space = 26 (c√≥ 26 c√°ch d·ªãch chuy·ªÉn)
                <br><strong>Vigen√®re v·ªõi key d√†i 5:</strong> Key space = 26<sup>5</sup> = 11,881,376
                <br><strong>AES-256:</strong> Key space = 2<sup>256</sup> (r·∫•t l·ªõn!)
            </div>

            <h3>4. Security Levels (M·ª©c ƒë·ªô b·∫£o m·∫≠t)</h3>
            <table class="security-table">
                <thead>
                    <tr>
                        <th>M·ª©c ƒë·ªô</th>
                        <th>M√¥ t·∫£</th>
                        <th>V√≠ d·ª•</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Kh√¥ng an to√†n</td>
                        <td>D·ªÖ d√†ng b·ªã ph√° trong v√†i ph√∫t</td>
                        <td>Caesar Cipher</td>
                    </tr>
                    <tr>
                        <td>Y·∫øu</td>
                        <td>C√≥ th·ªÉ ph√° v·ªõi c√¥ng c·ª• t·ª± ƒë·ªông</td>
                        <td>Vigen√®re v·ªõi key ng·∫Øn</td>
                    </tr>
                    <tr>
                        <td>Trung b√¨nh</td>
                        <td>C·∫ßn th·ªùi gian v√† t√†i nguy√™n</td>
                        <td>DES (ƒë√£ l·ªói th·ªùi)</td>
                    </tr>
                    <tr>
                        <td>M·∫°nh</td>
                        <td>R·∫•t kh√≥ ph√°, c·∫ßn th·ªùi gian d√†i</td>
                        <td>AES-256, RSA-2048</td>
                    </tr>
                </tbody>
            </table>

            <h3>5. Entropy (Entropy)</h3>
            <p>
                Entropy ƒëo ƒë·ªô ng·∫´u nhi√™n v√† kh√¥ng th·ªÉ ƒëo√°n tr∆∞·ªõc c·ªßa th√¥ng tin. 
                Entropy c√†ng cao, kh√≥a c√†ng an to√†n.
            </p>
            <div class="example-box">
                <strong>Kh√≥a y·∫øu:</strong> "PASSWORD" (entropy th·∫•p, d·ªÖ ƒëo√°n)
                <br><strong>Kh√≥a m·∫°nh:</strong> "Xk9#mP2$vL8@qR5" (entropy cao, ng·∫´u nhi√™n)
            </div>
        </section>

        <section class="interactive-demo">
            <h2>üéÆ Th·ª≠ nghi·ªám</h2>
            
            <h3>So s√°nh Key Space</h3>
            <div class="demo-container">
                <div class="demo-group">
                    <label>Ch·ªçn lo·∫°i m√£ h√≥a:</label>
                    <select id="cipher-type" onchange="updateKeySpace()">
                        <option value="caesar">Caesar Cipher</option>
                        <option value="vigenere3">Vigen√®re (key d√†i 3)</option>
                        <option value="vigenere5">Vigen√®re (key d√†i 5)</option>
                        <option value="aes128">AES-128</option>
                        <option value="aes256">AES-256</option>
                    </select>
                </div>
                
                <div class="demo-result">
                    <strong>Key Space:</strong> <span id="key-space">26</span>
                    <br><strong>ƒê·ªô an to√†n:</strong> <span id="security-level">Y·∫øu</span>
                </div>
            </div>

            <h3>Entropy Calculator</h3>
            <div class="demo-container">
                <div class="demo-group">
                    <label>Nh·∫≠p kh√≥a ƒë·ªÉ ki·ªÉm tra entropy:</label>
                    <input type="text" id="entropy-input" 
                           placeholder="Nh·∫≠p kh√≥a..." 
                           oninput="calculateEntropy()">
                </div>
                
                <div class="demo-result">
                    <strong>Entropy:</strong> <span id="entropy-value">0</span> bits
                    <br><strong>ƒê√°nh gi√°:</strong> <span id="entropy-rating">-</span>
                </div>
            </div>
        </section>

        <section class="quiz">
            <h2>üìù Ki·ªÉm tra ki·∫øn th·ª©c</h2>
            <div class="quiz-questions"></div>
            <button class="quiz-submit">N·ªôp b√†i</button>
            <div class="quiz-score"></div>
        </section>
    </main>

    <footer class="lesson-footer">
        <button class="btn-prev" onclick="window.location.href='lesson-01-introduction.html'">‚Üê B√†i tr∆∞·ªõc</button>
        <button class="btn-next" onclick="window.location.href='lesson-03-pigpen.html'">B√†i ti·∫øp theo ‚Üí</button>
    </footer>

    <script src="../js/crypt-util.js"></script>
    <script src="../js/lesson-core.js"></script>
    <script>
        LessonCore.currentLesson = 2;
        LessonCore.updateLessonProgressBar();
        QuizSystem.init(2);

        const keySpaces = {
            caesar: { space: 26, level: "Y·∫øu" },
            vigenere3: { space: Math.pow(26, 3), level: "Trung b√¨nh" },
            vigenere5: { space: Math.pow(26, 5), level: "Kh√°" },
            aes128: { space: "2^128", level: "R·∫•t m·∫°nh" },
            aes256: { space: "2^256", level: "C·ª±c k·ª≥ m·∫°nh" }
        };

        function updateKeySpace() {
            const type = document.getElementById('cipher-type').value;
            const info = keySpaces[type];
            document.getElementById('key-space').textContent = 
                typeof info.space === 'number' ? info.space.toLocaleString() : info.space;
            document.getElementById('security-level').textContent = info.level;
        }

        function calculateEntropy() {
            const input = document.getElementById('entropy-input').value;
            if (!input) {
                document.getElementById('entropy-value').textContent = '0';
                document.getElementById('entropy-rating').textContent = '-';
                return;
            }

            // Simple entropy calculation
            const chars = {};
            for (let char of input) {
                chars[char] = (chars[char] || 0) + 1;
            }

            let entropy = 0;
            const length = input.length;
            for (let count of Object.values(chars)) {
                const p = count / length;
                entropy -= p * Math.log2(p);
            }

            const entropyBits = entropy * length;
            document.getElementById('entropy-value').textContent = 
                entropyBits.toFixed(2);

            let rating = "R·∫•t y·∫øu";
            if (entropyBits > 50) rating = "R·∫•t m·∫°nh";
            else if (entropyBits > 30) rating = "M·∫°nh";
            else if (entropyBits > 20) rating = "Trung b√¨nh";
            else if (entropyBits > 10) rating = "Y·∫øu";

            document.getElementById('entropy-rating').textContent = rating;
        }

        // Mark lesson complete when quiz passed
        const originalCheck = QuizSystem.checkAnswers.bind(QuizSystem);
        QuizSystem.checkAnswers = function() {
            const score = originalCheck();
            if (score >= 70) {
                LessonCore.markLessonComplete(2, score);
            }
        };
    </script>
    
    <style>
        .example-box {
            background: var(--border-dark);
            padding: 1rem;
            border-radius: 0.3rem;
            margin: 1rem 0;
            border-left: 4px solid var(--accent);
        }

        .security-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .security-table th,
        .security-table td {
            padding: 0.8rem;
            border: 1px solid var(--border);
            text-align: left;
        }

        .security-table th {
            background: var(--accent);
            color: var(--text-inv);
        }

        .security-table tr:nth-child(even) {
            background: var(--border-dark);
        }

        .demo-result {
            padding: 1rem;
            background: var(--border-dark);
            border-radius: 0.3rem;
            margin-top: 1rem;
        }
    </style>
</body>
</html>

