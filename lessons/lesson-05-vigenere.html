<!doctype html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>B√†i 5: Vigen√®re Cipher</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/fontello.css">
    <link rel="stylesheet" href="../css/design-system.css">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/lesson-styles.css">
    <link rel="stylesheet" href="../css/animations.css">
</head>
<body class="lesson scheme-vignere" data-lesson="5" onload="setup( VIGNERE );">
    <nav class="lesson-nav">
        <a href="../index.html">‚Üê V·ªÅ trang ch·ªß</a>
        <div class="lesson-progress-bar">
            <div class="progress-fill"></div>
        </div>
    </nav>

    <header class="lesson-header">
        <h1>B√†i 5: Vigen√®re Cipher <a target="_blank" href="https://en.wikipedia.org/wiki/Vigen%C3%A8re_cipher"><i class="icon-link-ext"></i></a></h1>
        <p class="lesson-meta">
            <span>‚è±Ô∏è Th·ªùi gian: ~25 ph√∫t</span>
            <span>‚≠ê ƒê·ªô kh√≥: Trung b√¨nh</span>
            <span>üìö Module 2: M√£ h√≥a C·ªï ƒëi·ªÉn</span>
        </p>
    </header>

    <main class="lesson-content">
        <section class="theory">
            <h2>üìñ L√Ω thuy·∫øt</h2>
            
            <h3>L·ªãch s·ª≠</h3>
            <p>
                <strong>Vigen√®re Cipher</strong> l√† m·ªôt ph∆∞∆°ng ph√°p m√£ h√≥a ƒëa b·∫£ng ch·ªØ c√°i (polyalphabetic), 
                ƒë∆∞·ª£c ƒë·∫∑t t√™n theo Blaise de Vigen√®re, m·∫∑c d√π th·ª±c t·∫ø ƒë∆∞·ª£c m√¥ t·∫£ l·∫ßn ƒë·∫ßu b·ªüi 
                Giovan Battista Bellaso v√†o nƒÉm 1553.
            </p>

            <h3>C√°ch ho·∫°t ƒë·ªông</h3>
            <p>
                Kh√°c v·ªõi Caesar Cipher ch·ªâ s·ª≠ d·ª•ng m·ªôt shift c·ªë ƒë·ªãnh, Vigen√®re Cipher s·ª≠ d·ª•ng m·ªôt 
                <strong>key phrase</strong> (c·ª•m t·ª´ kh√≥a) ƒë·ªÉ t·∫°o ra m·ªôt <strong>key stream</strong> 
                (d√≤ng kh√≥a l·∫∑p l·∫°i). M·ªói ch·ªØ c√°i trong plaintext ƒë∆∞·ª£c m√£ h√≥a b·∫±ng m·ªôt Caesar Cipher 
                kh√°c nhau t√πy thu·ªôc v√†o ch·ªØ c√°i t∆∞∆°ng ·ª©ng trong key stream.
            </p>

            <div class="example-box">
                <strong>V√≠ d·ª•:</strong>
                <br>Plaintext:  ATTACKATDAWN
                <br>Key:        LEMONLEMONLE
                <br>Ciphertext: LXFOPVEFRNHR
                <br>
                <br>Ch·ªØ A ƒë·∫ßu ti√™n (v·ªã tr√≠ 0) ƒë∆∞·ª£c m√£ h√≥a v·ªõi shift L (11) ‚Üí L
                <br>Ch·ªØ T ƒë·∫ßu ti√™n (v·ªã tr√≠ 1) ƒë∆∞·ª£c m√£ h√≥a v·ªõi shift E (4) ‚Üí X
            </div>

            <h3>Vigen√®re Table</h3>
            <p>
                Vigen√®re Table l√† m·ªôt b·∫£ng 26x26 ch·ªØ c√°i, m·ªói h√†ng l√† m·ªôt Caesar Cipher v·ªõi shift kh√°c nhau. 
                ƒê·ªÉ m√£ h√≥a, t√¨m giao ƒëi·ªÉm c·ªßa h√†ng (plaintext) v√† c·ªôt (key).
            </p>

            <h3>∆Øu ƒëi·ªÉm so v·ªõi Caesar Cipher</h3>
            <ul>
                <li><strong>An to√†n h∆°n:</strong> Kh√¥ng th·ªÉ ph√° b·∫±ng brute force ƒë∆°n gi·∫£n</li>
                <li><strong>Key space l·ªõn h∆°n:</strong> V·ªõi key d√†i n, c√≥ 26<sup>n</sup> kh·∫£ nƒÉng</li>
                <li><strong>Kh√≥ ph√¢n t√≠ch t·∫ßn su·∫•t:</strong> M·ªói ch·ªØ c√°i c√≥ th·ªÉ ƒë∆∞·ª£c m√£ h√≥a b·∫±ng nhi·ªÅu c√°ch</li>
            </ul>

            <h3>Kasiski Examination</h3>
            <p>
                M·∫∑c d√π an to√†n h∆°n Caesar, Vigen√®re v·∫´n c√≥ th·ªÉ b·ªã ph√° b·∫±ng <strong>Kasiski Examination</strong> 
                - m·ªôt k·ªπ thu·∫≠t t√¨m ƒë·ªô d√†i key b·∫±ng c√°ch t√¨m c√°c chu·ªói l·∫∑p l·∫°i trong ciphertext.
            </p>
        </section>

        <section class="interactive-demo">
            <h2>üéÆ Th·ª≠ nghi·ªám</h2>
            
            <div id="inputs">
                <div id="plaintext" class="group">
                    <h3>Plain Text</h3>
                    <input type="text" id="plaintext-text" class="plaintext-text">
                </div>

                <div id="options" class="group">
                    <h3 class="key">Key Phrase</h3>
                    <input type="text" id="key-text" class="key-text">
                </div>

                <div id="options" class="group">
                    <h3 class="key">Key Stream</h3>
                    <input type="text" id="key-stream" class="key-stream" disabled>
                </div>

                <div id="cyphertext" class="group">
                    <h3 class="cypher">Cypher Text</h3>
                    <input type="text" id="cyphertext-text" class="cyphertext-text">
                </div>
            </div>

            <section id="encryption">
                <h2>Encryption System</h2>

                <div id="crypt-plaintext" class="group block">
                    <h3>Plain Letter</h3>
                    <div id="plaintext-chars" class="grid"></div>
                </div>

                <div id="crypt-mapping" class="group block">
                    <h3 id="mapping-direction">Encrypts To</h3>
                    <div id="mapping" class="grid"></div>
                </div>

                <div id="crypt-cyphertext" class="group block">
                    <h3><span class="key">Key Stream Letter</span> <i class="icon-down"></i> <span class="cypher">Cyphertext Alphabet</span></h3>
                    <div id="cyphertext-chars"></div>
                </div>
            </section>

            <section id="charts">
                <h2>Frequency Analysis</h2>

                <div id="plaintext-freq" class="group">
                    <h3>Plain Text</h3>
                    <div id="plaintext-chart" class="chart"></div>
                </div>

                <div id="cyphertext-freq" class="group">
                    <h3 class="cypher">Cypher Text</h3>
                    <div id="cyphertext-chart" class="chart"></div>
                </div>
            </section>
        </section>

        <section class="quiz">
            <h2>üìù Ki·ªÉm tra ki·∫øn th·ª©c</h2>
            <div class="quiz-questions"></div>
            <button class="quiz-submit">N·ªôp b√†i</button>
            <div class="quiz-score"></div>
        </section>

        <section class="challenge">
            <h2>üéØ Th·ª≠ th√°ch</h2>
            <p>Ho√†n th√†nh c√°c th·ª≠ th√°ch sau:</p>
            <div class="challenges-list"></div>
        </section>
    </main>

    <footer class="lesson-footer">
        <button class="btn-prev" onclick="window.location.href='lesson-04-caesar.html'">‚Üê B√†i tr∆∞·ªõc</button>
        <button class="btn-next" onclick="window.location.href='lesson-06-frequency-analysis.html'">B√†i ti·∫øp theo ‚Üí</button>
    </footer>

    <script src="../js/crypt-util.js"></script>
    <script src="../js/crypt-simple.js"></script>
    <script src="../js/lesson-core.js"></script>
    <script>
        LessonCore.currentLesson = 5;
        LessonCore.updateLessonProgressBar();
        QuizSystem.init(5);
        ChallengeSystem.init(5);

        const originalCheck = QuizSystem.checkAnswers.bind(QuizSystem);
        QuizSystem.checkAnswers = function() {
            const score = originalCheck();
            if (score >= 70) {
                LessonCore.markLessonComplete(5, score);
            }
        };
    </script>
</body>
</html>

